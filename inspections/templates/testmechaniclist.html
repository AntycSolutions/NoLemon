{% extends "base.html" %}
{% load static %}

{% block title %} - Mechanics{% endblock %}

{% block head_content %}
<link rel="stylesheet" type="text/css" href="{% static 'left_right.css' %}">
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-vNlhTCDa-R9HRfEmquZdIXIGmEp_Kuo">
</script>
<script type="text/javascript" src="{% static 'google_maps.js' %}">
</script>
{% endblock %}

{% block content %}

{% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}

<!-- Wrap -->
<div class="wrap container" role="document">
  <!-- Content -->
  <div class="content row">
    <!-- Main -->
    <div class="main col-sm-8" role="main">

      <div class="page-header">
        <h1>Maps</h1>
      </div>

      <div class="page-main">

          <div class="row"><div class="col-md-12">
          {% if mechanics.count >= 1 %}
            <h2>Static</h2>
            Static map displaying mechanics' location.
            </div></div>
            <p>&nbsp;</p>
            <img width="640px" height="640px" src="http://maps.googleapis.com/maps/api/staticmap?key=AIzaSyB-vNlhTCDa-R9HRfEmquZdIXIGmEp_Kuo&amp;size=640x640&amp;markers={{ static_map }}" alt="Mechanic map" />
            <p>&nbsp;</p>

            <h2>Interactive</h2>
            Interactive map displaying mechanics' location.
            <p>&nbsp;</p>
            <div style="height: 640px; width: 640px" id="map-canvas"></div>
            <p>&nbsp;</p>
          {% else %}
            <h2>There are no mechanics here.</h2>
            </div></div>
          {% endif %}

      </div>

    </div><!-- /.main -->

    <!-- Sidebar -->
    <aside class="sidebar col-sm-4" role="complementary">

      <section class="widget nav_menu-2 widget_nav_menu">
        <div>
            <h3>Mechanic List</h3>
            <ul>
            {% for mechanic in mechanics %}
                <li>Email address: <a href="{% url 'mechanic_detail' mechanic.pk %}">{{ mechanic.email }}</a></li>
                <script type="text/javascript">
                    addresses.push("{{ intera_map.pop }}");
                </script>
            {% empty %}
               <li>There are no mechanics here.</li>
            {% endfor %}
            </ul>
            <ul>
                <li><a href="#">Change Me</a></li>
            </ul>
        </div>
      </section>

    </aside><!-- /.sidebar -->
  </div><!-- /.content -->
</div><!-- /.wrap -->

{% endblock %}
